{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/year12/Desktop/Harvey/alevel_2020-2021/pages/test.js\",\n    _s = $RefreshSig$();\n\n// Written By Harvey Randall \\\\\nimport { useEffect, useState } from \"react\";\nimport * as THREE from 'three';\nimport CameraControls from 'camera-controls';\nimport { BoxGeometry, Clock, DoubleSide, Material, Mesh, MeshBasicMaterial, MeshStandardMaterial, PerspectiveCamera, PointLight, Scene, Vector3, WebGLRenderer, MeshLambertMaterial } from \"three\";\n\nvar perlin = require('perlin-noise');\n\nvar SimplexNoise = require('simplex-noise');\n\nimport { GenerateClouds } from '../components/clouds';\nimport { getRandomStarField } from '../components/stars';\nimport { CreateDayNightCycle } from \"../components/gameFundalmentals/DayNightCycle\";\n\nvar Stats = require('stats.js');\n\nCameraControls.install({\n  THREE: THREE\n});\nexport default function render() {\n  _s();\n\n  var _useState = useState(undefined),\n      child = _useState[0],\n      setChild = _useState[1];\n\n  var _useState2 = useState(0),\n      newTheta = _useState2[0],\n      setTheat = _useState2[1];\n\n  var _useState3 = useState(\"not day\"),\n      day = _useState3[0],\n      setDay = _useState3[1];\n\n  var _useState4 = useState(undefined),\n      child2 = _useState4[0],\n      setChild2 = _useState4[1];\n\n  useEffect(function () {\n    if (child === undefined) return;\n    var stats = new Stats();\n    stats.showPanel(1); // 0: fps, 1: ms, 2: mb, 3+: custom\n\n    document.body.appendChild(stats.dom);\n    var SceneToGet = new Scene();\n    var Renders = new WebGLRenderer({\n      antialias: true,\n      alpha: true\n    });\n    Renders.setClearColor(0x87ceeb, 1);\n    Renders.shadowMap.enabled = true;\n    Renders.shadowMap.type = THREE.PCFShadowMap;\n    Renders.setSize(window.innerWidth, window.innerHeight);\n    child.appendChild(Renders.domElement);\n    var simplex = new SimplexNoise(Math.random());\n    var clock = new Clock();\n    var planeGeometry = new THREE.PlaneGeometry(20, 20, 32, 32);\n    planeGeometry.rotateX(Math.PI / 2);\n    var planeMaterial = new THREE.MeshStandardMaterial({\n      color: 0x567d46,\n      side: DoubleSide\n    });\n    var plane = new THREE.Mesh(planeGeometry, planeMaterial);\n    plane.position.y = -0.5;\n    plane.receiveShadow = true;\n    SceneToGet.add(plane);\n    var daynight = new CreateDayNightCycle(SceneToGet, Renders);\n    var geometry = new THREE.PlaneBufferGeometry(500, 500, 100, 100);\n    var colours = [];\n\n    for (var i = 0, l = geometry.attributes.position.count; i < l; i++) {\n      //console.log(geometry.attributes.position.array[(i*3)+2])\n      var x = geometry.attributes.position.array[i * 3] / 128;\n      var y = geometry.attributes.position.array[i * 3 + 1] / 128;\n      var height = simplex.noise2D(x, y) * 30;\n      geometry.attributes.position.array[i * 3 + 2] = height;\n\n      if (height > 23) {\n        colours.push(1, 1, 1);\n      } else if (height > 5) {\n        colours.push(0.56, 0.54, 0.48);\n      } else if (height < -20) {\n        colours.push(0.501, 0.772, 0.87);\n      } else {\n        colours.push(0.56, 0.68, 0.166);\n      }\n    }\n\n    var material = new THREE.MeshPhongMaterial({\n      vertexColors: THREE.VertexColors,\n      reflectivity: 0,\n      roughness: 2\n    });\n    material.flatShading = true;\n    var plane2 = new THREE.Mesh(geometry, material);\n    plane2.receiveShadow = true;\n    plane2.castShadow = true;\n    plane2.position.y = -3;\n    geometry.addAttribute('color', new THREE.BufferAttribute(new Float32Array(colours), 3));\n    geometry.computeVertexNormals();\n    var clouds = [];\n\n    for (var _i = 0; _i < 40; _i++) {\n      clouds.push(new GenerateClouds(new Vector3(Math.random() * 300 - 300, 80 + Math.random() * 20, Math.random() * 600 - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1));\n    }\n\n    plane2.rotateX(Math.PI / 2 + Math.PI);\n    SceneToGet.add(plane2);\n    var Camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    /*const cameraControls = new CameraControls(Camera, Renders.domElement);\n    cameraControls.azimuthRotateSpeed = -0.3; // negative value to invert rotation direction\n    cameraControls.polarRotateSpeed = -0.3; // negative value to invert rotation direction\n    cameraControls.truckSpeed = 1 / 1e-5 * 3;\n    cameraControls.distance = 5\n    //cameraControls.touches.two = CameraControls.ACTION.TOUCH_ZOOM_TRUCK;\n    cameraControls.saveState();*/\n\n    Camera.position.z = 5;\n    Renders.domElement.requestPointerLock();\n    var gridHelper = new THREE.GridHelper(50, 50);\n    gridHelper.position.y = -1;\n    SceneToGet.add(gridHelper);\n\n    var animate = function animate() {\n      stats.begin();\n      requestAnimationFrame(animate);\n      daynight.update();\n      clouds.forEach(function (e, i) {\n        e.update();\n      });\n      Renders.render(SceneToGet, Camera);\n      stats.end();\n    };\n\n    function listChildren(children) {\n      var child;\n\n      for (var _i2 = 0; _i2 < children.length; _i2++) {\n        child = children[_i2]; // Calls this function again if the child has children\n\n        if (child.children) {\n          listChildren(child.children);\n        } // Logs if this child last in recursion\n        else {\n            console.log('Reached bottom with: ', child);\n          }\n      }\n    }\n\n    listChildren(SceneToGet.children);\n    animate();\n  }, [child]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: function ref(_ref) {\n        return setChild2(_ref);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: function ref(_ref2) {\n        return setChild(_ref2);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this), \"  \"]\n  }, void 0, true);\n}\n\n_s(render, \"vKdcy31UHavqJVmz4TqjZ6mceHQ=\");","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/pages/test.js"],"names":["useEffect","useState","THREE","CameraControls","BoxGeometry","Clock","DoubleSide","Material","Mesh","MeshBasicMaterial","MeshStandardMaterial","PerspectiveCamera","PointLight","Scene","Vector3","WebGLRenderer","MeshLambertMaterial","perlin","require","SimplexNoise","GenerateClouds","getRandomStarField","CreateDayNightCycle","Stats","install","render","undefined","child","setChild","newTheta","setTheat","day","setDay","child2","setChild2","stats","showPanel","document","body","appendChild","dom","SceneToGet","Renders","antialias","alpha","setClearColor","shadowMap","enabled","type","PCFShadowMap","setSize","window","innerWidth","innerHeight","domElement","simplex","Math","random","clock","planeGeometry","PlaneGeometry","rotateX","PI","planeMaterial","color","side","plane","position","y","receiveShadow","add","daynight","geometry","PlaneBufferGeometry","colours","i","l","attributes","count","x","array","height","noise2D","push","material","MeshPhongMaterial","vertexColors","VertexColors","reflectivity","roughness","flatShading","plane2","castShadow","addAttribute","BufferAttribute","Float32Array","computeVertexNormals","clouds","Camera","z","requestPointerLock","gridHelper","GridHelper","animate","begin","requestAnimationFrame","update","forEach","e","end","listChildren","children","length","console","log","ref"],"mappings":"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","sourcesContent":["// Written By Harvey Randall \\\\\n\nimport { useEffect, useState } from \"react\"\nimport * as THREE from 'three';\nimport CameraControls from 'camera-controls';\nimport { BoxGeometry, Clock, DoubleSide, Material, Mesh, MeshBasicMaterial, MeshStandardMaterial, PerspectiveCamera, PointLight, Scene, Vector3, WebGLRenderer, MeshLambertMaterial } from \"three\"\nvar perlin = require('perlin-noise');\nvar SimplexNoise = require('simplex-noise');\nimport { GenerateClouds } from '../components/clouds'\nimport { getRandomStarField } from '../components/stars'\nimport { CreateDayNightCycle } from \"../components/gameFundalmentals/DayNightCycle\";\nvar Stats = require('stats.js')\n\n\nCameraControls.install({ THREE: THREE });\n\n\nexport default function render() {\n    const [child, setChild] = useState(undefined)\n    const [newTheta, setTheat] = useState(0)\n    const [day, setDay] = useState(\"not day\")\n    const [child2, setChild2]= useState(undefined)\n    \n    useEffect(() => {\n        if (child === undefined) return;\n\n        let stats = new Stats();\n        stats.showPanel( 1 ); // 0: fps, 1: ms, 2: mb, 3+: custom\n        document.body.appendChild( stats.dom );\n\n        let SceneToGet = new Scene()\n        let Renders = new WebGLRenderer({\n            antialias: true,\n            alpha: true\n        })\n\n        Renders.setClearColor(0x87ceeb, 1);\n        Renders.shadowMap.enabled = true;\n        Renders.shadowMap.type = THREE.PCFShadowMap;\n\n\n        Renders.setSize(window.innerWidth, window.innerHeight)\n        child.appendChild(Renders.domElement);\n\n\n        const simplex = new SimplexNoise(Math.random())\n\n\n\n\n        const clock = new Clock();\n  \n\n        const planeGeometry = new THREE.PlaneGeometry(20, 20, 32, 32);\n        planeGeometry.rotateX(Math.PI / 2)\n        const planeMaterial = new THREE.MeshStandardMaterial({ color: 0x567d46, side: DoubleSide })\n        const plane = new THREE.Mesh(planeGeometry, planeMaterial);\n        plane.position.y = -0.5\n        plane.receiveShadow = true;\n        SceneToGet.add(plane);\n\n        let daynight = new CreateDayNightCycle(SceneToGet, Renders)\n\n        var geometry = new THREE.PlaneBufferGeometry(500, 500, 100, 100)\n\n        let colours = []\n\n\n        for (var i = 0, l = geometry.attributes.position.count; i < l; i++) {\n            //console.log(geometry.attributes.position.array[(i*3)+2])\n            let x = geometry.attributes.position.array[(i * 3)] / 128\n            let y = geometry.attributes.position.array[(i * 3) + 1] / 128\n            let height = simplex.noise2D(x, y) * 30\n            geometry.attributes.position.array[(i * 3) + 2] = height\n            if (height > 23) {\n                colours.push(1, 1, 1)\n            }\n            else if (height > 5) {\n                colours.push(0.56, 0.54, 0.48)\n            }\n            else if (height < -20) {\n                colours.push(0.501, 0.772, 0.87)\n            }\n            else {\n                colours.push(0.56, 0.68, 0.166)\n            }\n        }\n        var material = new THREE.MeshPhongMaterial({\n            vertexColors: THREE.VertexColors,\n            reflectivity: 0,\n            roughness: 2,\n        });\n        material.flatShading = true\n        var plane2 = new THREE.Mesh(geometry, material);\n        plane2.receiveShadow = true\n        plane2.castShadow = true\n        plane2.position.y = -3\n        geometry.addAttribute('color', new THREE.BufferAttribute(new Float32Array(colours), 3));\n        geometry.computeVertexNormals();\n\n        let clouds = []\n        for (let i = 0; i < 40; i++) {\n            clouds.push(new GenerateClouds(new Vector3((Math.random() * 300) - 300, 80 + Math.random() * 20, (Math.random() * 600) - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1))\n        }\n\n        plane2.rotateX((Math.PI / 2) + Math.PI)\n        SceneToGet.add(plane2);\n\n        var Camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000)\n        /*const cameraControls = new CameraControls(Camera, Renders.domElement);\n        cameraControls.azimuthRotateSpeed = -0.3; // negative value to invert rotation direction\n        cameraControls.polarRotateSpeed = -0.3; // negative value to invert rotation direction\n        cameraControls.truckSpeed = 1 / 1e-5 * 3;\n        cameraControls.distance = 5\n        //cameraControls.touches.two = CameraControls.ACTION.TOUCH_ZOOM_TRUCK;\n        cameraControls.saveState();*/\n        Camera.position.z = 5;\n\n\n        Renders.domElement.requestPointerLock()\n\n        const gridHelper = new THREE.GridHelper(50, 50);\n        gridHelper.position.y = -1;\n        SceneToGet.add(gridHelper);\n\n\n        var animate = function() {\n            stats.begin()\n            requestAnimationFrame(animate)\n\n            daynight.update()\n            \n\n            clouds.forEach((e, i) => {\n                e.update()\n            })\n\n            Renders.render(SceneToGet, Camera);\n            stats.end()\n        };\n        function listChildren(children) {\n            let child;\n            for (let i = 0; i < children.length; i++) {\n                child = children[i];\n        \n                // Calls this function again if the child has children\n                if (child.children) {\n                    listChildren(child.children);\n                }\n                // Logs if this child last in recursion\n                else {\n                    console.log('Reached bottom with: ', child);\n                }\n            }\n        }\n        \n        listChildren(SceneToGet.children);\n        animate();\n    }, [child])\n\n    return ( \n        <>\n        <div ref={ref => (setChild2(ref))}></div>\n\n        <\n        div ref = { ref => (setChild(ref)) }\n        />  < / >\n    )\n}\n"]},"metadata":{},"sourceType":"module"}