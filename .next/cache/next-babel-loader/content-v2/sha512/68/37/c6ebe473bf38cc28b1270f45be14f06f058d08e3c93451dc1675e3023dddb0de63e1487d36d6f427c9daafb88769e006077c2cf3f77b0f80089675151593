{"ast":null,"code":"// Written By Harvey Randall \\\\\nexport class ControlHandler {\n  constructor(document) {\n    this.document = document;\n  }\n\n  init() {\n    let [w, a, s, d, up, down, e, q, shift] = [false, false, false, false, false, false, false, false, 1];\n    this.document.addEventListener(\"keydown\", e => {\n      onDocumentKeyDown(e, true);\n    }, false);\n    this.document.addEventListener(\"keyup\", e => {\n      onDocumentKeyDown(e, false);\n    }, false);\n\n    function onDocumentKeyDown(event, val) {\n      if (child2 === document.activeElement) return;\n      var keyCode = event.which;\n\n      if (keyCode == 87) {\n        w = val;\n      }\n\n      if (keyCode == 83) {\n        s = val;\n      }\n\n      if (keyCode == 65) {\n        a = val;\n      }\n\n      if (keyCode == 68) {\n        d = val;\n      }\n\n      if (keyCode == 38) {\n        up = val;\n      }\n\n      if (keyCode == 40) {\n        down = val;\n      }\n\n      if (keyCode == 69) {\n        e = val;\n      }\n\n      if (keyCode == 81) {\n        q = val;\n      }\n\n      if (keyCode == 16) {\n        shift = val ? 0.5 : 1;\n      }\n\n      this.w = w;\n      this.a = a;\n      this.s = s;\n      this.d = d;\n      this.up = up;\n      this.down = down;\n      this.e = e;\n      this.q = q;\n      this.shift = shift;\n    }\n\n    ;\n  }\n\n  update(Camera) {\n    if (this.w) {\n      var direction = new THREE.Vector3();\n      Camera.getWorldDirection(direction);\n      Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25));\n    }\n\n    if (this.s) {\n      var direction = new THREE.Vector3();\n      Camera.getWorldDirection(direction);\n      Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n    }\n\n    if (this.a) {\n      Camera.rotateY(0.04 * this.shift);\n    }\n\n    if (this.d) {\n      Camera.rotateY(-0.04 * this.shift);\n    }\n\n    if (this.up) {\n      Camera.rotateX(0.04 * this.shift);\n    }\n\n    if (this.down) {\n      Camera.rotateX(-0.04 * this.shift);\n    }\n\n    if (this.q) {\n      Camera.rotateZ(0.02 * this.shift);\n    }\n\n    if (this.e) {\n      Camera.rotateZ(-0.02 * this.shift);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/controls.js"],"names":["ControlHandler","constructor","document","init","w","a","s","d","up","down","e","q","shift","addEventListener","onDocumentKeyDown","event","val","child2","activeElement","keyCode","which","update","Camera","direction","THREE","Vector3","getWorldDirection","position","add","multiplyScalar","rotateY","rotateX","rotateZ"],"mappings":"AAAA;AAEA,OAAO,MAAMA,cAAN,CAAqB;AACxBC,EAAAA,WAAW,CAACC,QAAD,EAAU;AACjB,SAAKA,QAAL,GAAgBA,QAAhB;AACH;;AACDC,EAAAA,IAAI,GAAE;AACF,QAAI,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV,EAAaC,EAAb,EAAiBC,IAAjB,EAAuBC,CAAvB,EAA0BC,CAA1B,EAA6BC,KAA7B,IAAsC,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,CAAzD,CAA1C;AAEA,SAAKV,QAAL,CAAcW,gBAAd,CAA+B,SAA/B,EAA2CH,CAAD,IAAO;AAAEI,MAAAA,iBAAiB,CAACJ,CAAD,EAAI,IAAJ,CAAjB;AAA4B,KAA/E,EAAiF,KAAjF;AACA,SAAKR,QAAL,CAAcW,gBAAd,CAA+B,OAA/B,EAAyCH,CAAD,IAAO;AAAEI,MAAAA,iBAAiB,CAACJ,CAAD,EAAI,KAAJ,CAAjB;AAA6B,KAA9E,EAAgF,KAAhF;;AAEA,aAASI,iBAAT,CAA2BC,KAA3B,EAAkCC,GAAlC,EAAuC;AACnC,UAAGC,MAAM,KAAKf,QAAQ,CAACgB,aAAvB,EAAsC;AACtC,UAAIC,OAAO,GAAGJ,KAAK,CAACK,KAApB;;AACA,UAAID,OAAO,IAAI,EAAf,EAAmB;AACff,QAAAA,CAAC,GAAGY,GAAJ;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfb,QAAAA,CAAC,GAAGU,GAAJ;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfd,QAAAA,CAAC,GAAGW,GAAJ;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfZ,QAAAA,CAAC,GAAGS,GAAJ;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfX,QAAAA,EAAE,GAAGQ,GAAL;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfV,QAAAA,IAAI,GAAGO,GAAP;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfT,QAAAA,CAAC,GAAGM,GAAJ;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfR,QAAAA,CAAC,GAAGK,GAAJ;AACH;;AACD,UAAIG,OAAO,IAAI,EAAf,EAAmB;AACfP,QAAAA,KAAK,GAAGI,GAAG,GAAG,GAAH,GAAS,CAApB;AACH;;AACD,WAAKZ,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACA,WAAKC,EAAL,GAAUA,EAAV;AACA,WAAKC,IAAL,GAAYA,IAAZ;AACA,WAAKC,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACA,WAAKC,KAAL,GAAaA,KAAb;AACH;;AAAA;AACJ;;AACDS,EAAAA,MAAM,CAACC,MAAD,EAAQ;AACV,QAAI,KAAKlB,CAAT,EAAY;AACR,UAAImB,SAAS,GAAG,IAAIC,KAAK,CAACC,OAAV,EAAhB;AACAH,MAAAA,MAAM,CAACI,iBAAP,CAAyBH,SAAzB;AACAD,MAAAA,MAAM,CAACK,QAAP,CAAgBC,GAAhB,CAAoBL,SAAS,CAACM,cAAV,CAAyBjB,KAAK,IAAI,CAAT,GAAa,CAAb,GAAiB,IAA1C,CAApB;AACH;;AACD,QAAI,KAAKN,CAAT,EAAY;AACR,UAAIiB,SAAS,GAAG,IAAIC,KAAK,CAACC,OAAV,EAAhB;AACAH,MAAAA,MAAM,CAACI,iBAAP,CAAyBH,SAAzB;AACAD,MAAAA,MAAM,CAACK,QAAP,CAAgBC,GAAhB,CAAoBL,SAAS,CAACM,cAAV,CAAyB,EAAEjB,KAAK,IAAI,CAAT,GAAa,CAAb,GAAiB,IAAnB,CAAzB,CAApB;AACH;;AACD,QAAI,KAAKP,CAAT,EAAY;AACRiB,MAAAA,MAAM,CAACQ,OAAP,CAAe,OAAO,KAAKlB,KAA3B;AACH;;AACD,QAAI,KAAKL,CAAT,EAAY;AACRe,MAAAA,MAAM,CAACQ,OAAP,CAAe,CAAC,IAAD,GAAQ,KAAKlB,KAA5B;AACH;;AACD,QAAI,KAAKJ,EAAT,EAAa;AACTc,MAAAA,MAAM,CAACS,OAAP,CAAe,OAAO,KAAKnB,KAA3B;AACH;;AACD,QAAI,KAAKH,IAAT,EAAe;AACXa,MAAAA,MAAM,CAACS,OAAP,CAAe,CAAC,IAAD,GAAQ,KAAKnB,KAA5B;AACH;;AACD,QAAI,KAAKD,CAAT,EAAY;AACRW,MAAAA,MAAM,CAACU,OAAP,CAAe,OAAO,KAAKpB,KAA3B;AACH;;AACD,QAAI,KAAKF,CAAT,EAAY;AACRY,MAAAA,MAAM,CAACU,OAAP,CAAe,CAAC,IAAD,GAAQ,KAAKpB,KAA5B;AACH;AACJ;;AAhFuB","sourcesContent":["// Written By Harvey Randall \\\\\n\nexport class ControlHandler {\n    constructor(document){\n        this.document = document\n    }\n    init(){\n        let [w, a, s, d, up, down, e, q, shift] = [false, false, false, false, false, false, false, false, 1]\n\n        this.document.addEventListener(\"keydown\", (e) => { onDocumentKeyDown(e, true) }, false);\n        this.document.addEventListener(\"keyup\", (e) => { onDocumentKeyDown(e, false) }, false);\n\n        function onDocumentKeyDown(event, val) {\n            if(child2 === document.activeElement) return\n            var keyCode = event.which;\n            if (keyCode == 87) {\n                w = val\n            }\n            if (keyCode == 83) {\n                s = val\n            }\n            if (keyCode == 65) {\n                a = val\n            }\n            if (keyCode == 68) {\n                d = val\n            }\n            if (keyCode == 38) {\n                up = val\n            }\n            if (keyCode == 40) {\n                down = val\n            }\n            if (keyCode == 69) {\n                e = val\n            }\n            if (keyCode == 81) {\n                q = val\n            }\n            if (keyCode == 16) {\n                shift = val ? 0.5 : 1\n            }\n            this.w = w\n            this.a = a\n            this.s = s\n            this.d = d\n            this.up = up\n            this.down = down\n            this.e = e\n            this.q = q\n            this.shift = shift\n        };\n    }\n    update(Camera){\n        if (this.w) {\n            var direction = new THREE.Vector3();\n            Camera.getWorldDirection(direction);\n            Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25));\n        }\n        if (this.s) {\n            var direction = new THREE.Vector3();\n            Camera.getWorldDirection(direction);\n            Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n        }\n        if (this.a) {\n            Camera.rotateY(0.04 * this.shift)\n        }\n        if (this.d) {\n            Camera.rotateY(-0.04 * this.shift)\n        }\n        if (this.up) {\n            Camera.rotateX(0.04 * this.shift)\n        }\n        if (this.down) {\n            Camera.rotateX(-0.04 * this.shift)\n        }\n        if (this.q) {\n            Camera.rotateZ(0.02 * this.shift)\n        }\n        if (this.e) {\n            Camera.rotateZ(-0.02 * this.shift)\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}