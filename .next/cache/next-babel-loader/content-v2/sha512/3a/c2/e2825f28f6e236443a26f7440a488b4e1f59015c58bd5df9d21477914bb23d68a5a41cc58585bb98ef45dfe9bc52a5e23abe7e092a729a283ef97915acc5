{"ast":null,"code":"// Written By Harvey Randall \\\\\n// Render Handler\nimport { addToRenderSequence } from \"../Core-API/RenderingHandler\"; //Functional Dependencies\n\nimport { DoubleSide, GridHelper, Mesh, MeshStandardMaterial, PlaneGeometry, Vector3 } from \"three\";\nimport { GenerateClouds } from \"./clouds\";\nimport { ControlHandlerInit, ControlHandlerUpdate } from \"./controls\";\nimport { CreateDayNightCycle } from \"./DayNightCycle\";\nimport { GenerateTerrain } from \"./ProceduleTerrain\";\nimport { ImportOBJ } from \"../Core-API/OBJHandler\";\nlet debug = true;\nexport function GenerateMainScene(SceneToGet, Renders, document, seed, child2, Camera) {\n  let clouds = [];\n\n  for (let i = 0; i < 40; i++) {\n    clouds.push(new GenerateClouds(new Vector3(Math.random() * 300 - 300, 80 + Math.random() * 20, Math.random() * 600 - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1));\n  }\n\n  let daynight = new CreateDayNightCycle(SceneToGet, Renders);\n  GenerateTerrain(seed, SceneToGet);\n  ControlHandlerInit(document, child2);\n\n  if (debug) {\n    const planeGeometry = new PlaneGeometry(20, 20, 32, 32);\n    planeGeometry.rotateX(Math.PI / 2);\n    const planeMaterial = new MeshStandardMaterial({\n      color: 0x567d46,\n      side: DoubleSide\n    });\n    const plane = new Mesh(planeGeometry, planeMaterial);\n    plane.position.y = -0.5;\n    SceneToGet.add(plane);\n    const gridHelper = new GridHelper(50, 50);\n    gridHelper.position.y = -1;\n    SceneToGet.add(gridHelper);\n  }\n\n  ImportOBJ(\"Airplane\", SceneToGet); // Add all updating parts to a function\n\n  addToRenderSequence(\"Main\", () => {\n    clouds.forEach((e, i) => {\n      e.update();\n    });\n  }, true);\n  addToRenderSequence(\"Main\", () => ControlHandlerUpdate(Camera));\n  addToRenderSequence(\"Main\", () => daynight.update());\n}","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/MainSceneHandler.js"],"names":["addToRenderSequence","DoubleSide","GridHelper","Mesh","MeshStandardMaterial","PlaneGeometry","Vector3","GenerateClouds","ControlHandlerInit","ControlHandlerUpdate","CreateDayNightCycle","GenerateTerrain","ImportOBJ","debug","GenerateMainScene","SceneToGet","Renders","document","seed","child2","Camera","clouds","i","push","Math","random","daynight","planeGeometry","rotateX","PI","planeMaterial","color","side","plane","position","y","add","gridHelper","forEach","e","update"],"mappings":"AAAA;AAEA;AACA,SAASA,mBAAT,QAAoC,8BAApC,C,CAEA;;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,IAAjC,EAAuCC,oBAAvC,EAA6DC,aAA7D,EAA4EC,OAA5E,QAA2F,OAA3F;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,kBAAT,EAA6BC,oBAA7B,QAAyD,YAAzD;AACA,SAASC,mBAAT,QAAoC,iBAApC;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,IAAIC,KAAK,GAAG,IAAZ;AAEA,OAAO,SAASC,iBAAT,CAA2BC,UAA3B,EAAuCC,OAAvC,EAAgDC,QAAhD,EAA0DC,IAA1D,EAAgEC,MAAhE,EAAwEC,MAAxE,EAA+E;AAElF,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzBD,IAAAA,MAAM,CAACE,IAAP,CAAY,IAAIhB,cAAJ,CAAmB,IAAID,OAAJ,CAAakB,IAAI,CAACC,MAAL,KAAgB,GAAjB,GAAwB,GAApC,EAAyC,KAAKD,IAAI,CAACC,MAAL,KAAgB,EAA9D,EAAmED,IAAI,CAACC,MAAL,KAAgB,GAAjB,GAAwB,GAA1F,CAAnB,EAAmHV,UAAnH,EAA+HS,IAAI,CAACC,MAAL,KAAgB,GAA/I,EAAoJD,IAAI,CAACC,MAAL,KAAgB,CAAhB,GAAoB,CAAxK,CAAZ;AACH;;AAED,MAAIC,QAAQ,GAAG,IAAIhB,mBAAJ,CAAwBK,UAAxB,EAAoCC,OAApC,CAAf;AACAL,EAAAA,eAAe,CAACO,IAAD,EAAOH,UAAP,CAAf;AACAP,EAAAA,kBAAkB,CAACS,QAAD,EAAWE,MAAX,CAAlB;;AAEA,MAAGN,KAAH,EAAS;AACL,UAAMc,aAAa,GAAG,IAAItB,aAAJ,CAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAtB;AACAsB,IAAAA,aAAa,CAACC,OAAd,CAAsBJ,IAAI,CAACK,EAAL,GAAU,CAAhC;AACA,UAAMC,aAAa,GAAG,IAAI1B,oBAAJ,CAAyB;AAAE2B,MAAAA,KAAK,EAAE,QAAT;AAAmBC,MAAAA,IAAI,EAAE/B;AAAzB,KAAzB,CAAtB;AACA,UAAMgC,KAAK,GAAG,IAAI9B,IAAJ,CAASwB,aAAT,EAAwBG,aAAxB,CAAd;AACAG,IAAAA,KAAK,CAACC,QAAN,CAAeC,CAAf,GAAmB,CAAC,GAApB;AACApB,IAAAA,UAAU,CAACqB,GAAX,CAAeH,KAAf;AACA,UAAMI,UAAU,GAAG,IAAInC,UAAJ,CAAe,EAAf,EAAmB,EAAnB,CAAnB;AACAmC,IAAAA,UAAU,CAACH,QAAX,CAAoBC,CAApB,GAAwB,CAAC,CAAzB;AACApB,IAAAA,UAAU,CAACqB,GAAX,CAAeC,UAAf;AACH;;AAEDzB,EAAAA,SAAS,CAAC,UAAD,EAAaG,UAAb,CAAT,CAvBkF,CAyBlF;;AACAf,EAAAA,mBAAmB,CAAC,MAAD,EAAS,MAAM;AAC9BqB,IAAAA,MAAM,CAACiB,OAAP,CAAe,CAACC,CAAD,EAAIjB,CAAJ,KAAU;AACrBiB,MAAAA,CAAC,CAACC,MAAF;AACH,KAFD;AAGH,GAJkB,EAIhB,IAJgB,CAAnB;AAMAxC,EAAAA,mBAAmB,CAAC,MAAD,EAAS,MAAMS,oBAAoB,CAACW,MAAD,CAAnC,CAAnB;AACApB,EAAAA,mBAAmB,CAAC,MAAD,EAAS,MAAO0B,QAAQ,CAACc,MAAT,EAAhB,CAAnB;AAEH","sourcesContent":["// Written By Harvey Randall \\\\\n\n// Render Handler\nimport { addToRenderSequence } from \"../Core-API/RenderingHandler\"\n\n//Functional Dependencies\nimport { DoubleSide, GridHelper, Mesh, MeshStandardMaterial, PlaneGeometry, Vector3 } from \"three\"\nimport { GenerateClouds } from \"./clouds\"\nimport { ControlHandlerInit, ControlHandlerUpdate } from \"./controls\"\nimport { CreateDayNightCycle } from \"./DayNightCycle\"\nimport { GenerateTerrain } from \"./ProceduleTerrain\"\nimport { ImportOBJ } from \"../Core-API/OBJHandler\"\n\nlet debug = true\n\nexport function GenerateMainScene(SceneToGet, Renders, document, seed, child2, Camera){\n\n    let clouds = []\n    for (let i = 0; i < 40; i++) {\n        clouds.push(new GenerateClouds(new Vector3((Math.random() * 300) - 300, 80 + Math.random() * 20, (Math.random() * 600) - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1))\n    }\n\n    let daynight = new CreateDayNightCycle(SceneToGet, Renders)\n    GenerateTerrain(seed, SceneToGet)\n    ControlHandlerInit(document, child2)\n\n    if(debug){\n        const planeGeometry = new PlaneGeometry(20, 20, 32, 32);\n        planeGeometry.rotateX(Math.PI / 2)\n        const planeMaterial = new MeshStandardMaterial({ color: 0x567d46, side: DoubleSide })\n        const plane = new Mesh(planeGeometry, planeMaterial);\n        plane.position.y = -0.5\n        SceneToGet.add(plane);\n        const gridHelper = new GridHelper(50, 50);\n        gridHelper.position.y = -1;\n        SceneToGet.add(gridHelper);\n    }\n\n    ImportOBJ(\"Airplane\", SceneToGet)\n\n    // Add all updating parts to a function\n    addToRenderSequence(\"Main\", () => {\n        clouds.forEach((e, i) => {\n            e.update()\n        })\n    }, true)\n\n    addToRenderSequence(\"Main\", () => ControlHandlerUpdate(Camera))\n    addToRenderSequence(\"Main\", () =>  daynight.update())\n\n}"]},"metadata":{},"sourceType":"module"}