{"ast":null,"code":"import { Vector2, Vector3 } from \"three\";\nimport { roundnum } from \"../../Algorithms/MathUtils\";\nimport { generateTerrainChunk } from \"../ProceduleTerrain\";\nimport { GenerateTrees } from \"../staticAssets/treeBuilder\";\nexport function generateTerrainAroundPlayer(seed, camera, scene) {\n  var loadedChunks = {};\n  var chunksInMem = {};\n  setInterval(function () {\n    var vector = new Vector3();\n    camera.getWorldPosition(vector);\n    var ChunkYourIn = new Vector2(roundnum(vector.x, 500), roundnum(vector.z, 500));\n\n    if (ChunkYourIn.x === -0) {\n      ChunkYourIn.x = 0;\n    }\n\n    if (ChunkYourIn.y === -0) {\n      ChunkYourIn.y = 0;\n    }\n\n    if (loadedChunks[\"\".concat(ChunkYourIn.x, \":\").concat(ChunkYourIn.y)] !== undefined && loadedChunks[\"\".concat(ChunkYourIn.x, \":\").concat(ChunkYourIn.y)] === true) {//console.log('exists', ChunkYourIn.x, ChunkYourIn.y)\n    } else {\n      console.log('Generating, ', ChunkYourIn.x, ChunkYourIn.y, loadedChunks[\"\".concat(ChunkYourIn.x, \":\").concat(ChunkYourIn.y)]);\n      loadedChunks[\"\".concat(ChunkYourIn.x, \":\").concat(ChunkYourIn.y)] = true;\n      var chunk = generateTerrainChunk(seed, ChunkYourIn, 30);\n      GenerateTrees(300, scene, new Vector3(ChunkYourIn.x - 250, 250, ChunkYourIn.y - 250), new Vector3(ChunkYourIn.x + 250, 250, ChunkYourIn.y + 250), chunk);\n      chunksInMem[\"\".concat(ChunkYourIn.x, \":\").concat(ChunkYourIn.y)] = chunk;\n      scene.add(chunk);\n    } //let chunk = generateTerrainChunk(seed, camera, 30);\n\n  }, 1000);\n}","map":null,"metadata":{},"sourceType":"module"}