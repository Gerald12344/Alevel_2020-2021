{"ast":null,"code":"// Written By Harvey Randall \\\\\nimport { Vector3 } from \"three\";\nimport { addToRenderSequence } from \"../Core-API/RenderingHandler\";\nimport { GenerateClouds } from \"./clouds\";\nimport { ControlHandlerInit, ControlHandlerUpdate } from \"./controls\";\nimport { CreateDayNightCycle } from \"./DayNightCycle\";\nimport { GenerateTerrain } from \"./ProceduleTerrain\";\nvar debug = true;\nexport function GenerateMainScene(SceneToGet, Renders, document, seed, child2, Camera) {\n  var clouds = [];\n\n  for (var i = 0; i < 40; i++) {\n    clouds.push(new GenerateClouds(new Vector3(Math.random() * 300 - 300, 80 + Math.random() * 20, Math.random() * 600 - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1));\n  }\n\n  var daynight = new CreateDayNightCycle(SceneToGet, Renders);\n  GenerateTerrain(seed, SceneToGet);\n  ControlHandlerInit(document, child2);\n\n  if (debug) {\n    var planeGeometry = new THREE.PlaneGeometry(20, 20, 32, 32);\n    planeGeometry.rotateX(Math.PI / 2);\n    var planeMaterial = new THREE.MeshStandardMaterial({\n      color: 0x567d46,\n      side: DoubleSide\n    });\n    var plane = new THREE.Mesh(planeGeometry, planeMaterial);\n    plane.position.y = -0.5;\n    SceneToGet.add(plane);\n    var gridHelper = new THREE.GridHelper(50, 50);\n    gridHelper.position.y = -1;\n    SceneToGet.add(gridHelper);\n  } // Add all updating parts to a function\n\n\n  addToRenderSequence(function () {\n    clouds.forEach(function (e, i) {\n      e.update();\n    });\n  });\n  addToRenderSequence(function () {\n    return ControlHandlerUpdate(Camera);\n  });\n  addToRenderSequence(function () {\n    return daynight.update();\n  });\n}\n_c = GenerateMainScene;\n\nvar _c;\n\n$RefreshReg$(_c, \"GenerateMainScene\");","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/MainSceneHandler.js"],"names":["Vector3","addToRenderSequence","GenerateClouds","ControlHandlerInit","ControlHandlerUpdate","CreateDayNightCycle","GenerateTerrain","debug","GenerateMainScene","SceneToGet","Renders","document","seed","child2","Camera","clouds","i","push","Math","random","daynight","planeGeometry","THREE","PlaneGeometry","rotateX","PI","planeMaterial","MeshStandardMaterial","color","side","DoubleSide","plane","Mesh","position","y","add","gridHelper","GridHelper","forEach","e","update"],"mappings":"AAAA;AAEA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,mBAAT,QAAoC,8BAApC;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,kBAAT,EAA6BC,oBAA7B,QAAyD,YAAzD;AACA,SAASC,mBAAT,QAAoC,iBAApC;AACA,SAASC,eAAT,QAAgC,oBAAhC;AAEA,IAAIC,KAAK,GAAG,IAAZ;AAEA,OAAO,SAASC,iBAAT,CAA2BC,UAA3B,EAAuCC,OAAvC,EAAgDC,QAAhD,EAA0DC,IAA1D,EAAgEC,MAAhE,EAAwEC,MAAxE,EAA+E;AAElF,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzBD,IAAAA,MAAM,CAACE,IAAP,CAAY,IAAIf,cAAJ,CAAmB,IAAIF,OAAJ,CAAakB,IAAI,CAACC,MAAL,KAAgB,GAAjB,GAAwB,GAApC,EAAyC,KAAKD,IAAI,CAACC,MAAL,KAAgB,EAA9D,EAAmED,IAAI,CAACC,MAAL,KAAgB,GAAjB,GAAwB,GAA1F,CAAnB,EAAmHV,UAAnH,EAA+HS,IAAI,CAACC,MAAL,KAAgB,GAA/I,EAAoJD,IAAI,CAACC,MAAL,KAAgB,CAAhB,GAAoB,CAAxK,CAAZ;AACH;;AAED,MAAIC,QAAQ,GAAG,IAAIf,mBAAJ,CAAwBI,UAAxB,EAAoCC,OAApC,CAAf;AACAJ,EAAAA,eAAe,CAACM,IAAD,EAAOH,UAAP,CAAf;AACAN,EAAAA,kBAAkB,CAACQ,QAAD,EAAWE,MAAX,CAAlB;;AAEA,MAAGN,KAAH,EAAS;AACL,QAAMc,aAAa,GAAG,IAAIC,KAAK,CAACC,aAAV,CAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,CAAtB;AACAF,IAAAA,aAAa,CAACG,OAAd,CAAsBN,IAAI,CAACO,EAAL,GAAU,CAAhC;AACA,QAAMC,aAAa,GAAG,IAAIJ,KAAK,CAACK,oBAAV,CAA+B;AAAEC,MAAAA,KAAK,EAAE,QAAT;AAAmBC,MAAAA,IAAI,EAAEC;AAAzB,KAA/B,CAAtB;AACA,QAAMC,KAAK,GAAG,IAAIT,KAAK,CAACU,IAAV,CAAeX,aAAf,EAA8BK,aAA9B,CAAd;AACAK,IAAAA,KAAK,CAACE,QAAN,CAAeC,CAAf,GAAmB,CAAC,GAApB;AACAzB,IAAAA,UAAU,CAAC0B,GAAX,CAAeJ,KAAf;AACA,QAAMK,UAAU,GAAG,IAAId,KAAK,CAACe,UAAV,CAAqB,EAArB,EAAyB,EAAzB,CAAnB;AACAD,IAAAA,UAAU,CAACH,QAAX,CAAoBC,CAApB,GAAwB,CAAC,CAAzB;AACAzB,IAAAA,UAAU,CAAC0B,GAAX,CAAeC,UAAf;AACH,GArBiF,CAuBlF;;;AACAnC,EAAAA,mBAAmB,CAAC,YAAM;AACtBc,IAAAA,MAAM,CAACuB,OAAP,CAAe,UAACC,CAAD,EAAIvB,CAAJ,EAAU;AACrBuB,MAAAA,CAAC,CAACC,MAAF;AACH,KAFD;AAGH,GAJkB,CAAnB;AAMAvC,EAAAA,mBAAmB,CAAC;AAAA,WAAMG,oBAAoB,CAACU,MAAD,CAA1B;AAAA,GAAD,CAAnB;AACAb,EAAAA,mBAAmB,CAAC;AAAA,WAAOmB,QAAQ,CAACoB,MAAT,EAAP;AAAA,GAAD,CAAnB;AAEH;KAjCehC,iB","sourcesContent":["// Written By Harvey Randall \\\\\n\nimport { Vector3 } from \"three\"\nimport { addToRenderSequence } from \"../Core-API/RenderingHandler\"\nimport { GenerateClouds } from \"./clouds\"\nimport { ControlHandlerInit, ControlHandlerUpdate } from \"./controls\"\nimport { CreateDayNightCycle } from \"./DayNightCycle\"\nimport { GenerateTerrain } from \"./ProceduleTerrain\"\n\nlet debug = true\n\nexport function GenerateMainScene(SceneToGet, Renders, document, seed, child2, Camera){\n\n    let clouds = []\n    for (let i = 0; i < 40; i++) {\n        clouds.push(new GenerateClouds(new Vector3((Math.random() * 300) - 300, 80 + Math.random() * 20, (Math.random() * 600) - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1))\n    }\n\n    let daynight = new CreateDayNightCycle(SceneToGet, Renders)\n    GenerateTerrain(seed, SceneToGet)\n    ControlHandlerInit(document, child2)\n\n    if(debug){\n        const planeGeometry = new THREE.PlaneGeometry(20, 20, 32, 32);\n        planeGeometry.rotateX(Math.PI / 2)\n        const planeMaterial = new THREE.MeshStandardMaterial({ color: 0x567d46, side: DoubleSide })\n        const plane = new THREE.Mesh(planeGeometry, planeMaterial);\n        plane.position.y = -0.5\n        SceneToGet.add(plane);\n        const gridHelper = new THREE.GridHelper(50, 50);\n        gridHelper.position.y = -1;\n        SceneToGet.add(gridHelper);\n    }\n\n    // Add all updating parts to a function\n    addToRenderSequence(() => {\n        clouds.forEach((e, i) => {\n            e.update()\n        })\n    })\n\n    addToRenderSequence(() => ControlHandlerUpdate(Camera))\n    addToRenderSequence(() =>  daynight.update())\n\n}"]},"metadata":{},"sourceType":"module"}