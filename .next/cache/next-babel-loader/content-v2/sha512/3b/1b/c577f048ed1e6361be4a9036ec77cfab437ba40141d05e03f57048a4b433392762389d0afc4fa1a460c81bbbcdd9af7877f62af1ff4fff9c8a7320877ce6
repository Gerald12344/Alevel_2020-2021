{"ast":null,"code":"import _slicedToArray from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n// Written By Harvey Randall \\\\\nimport { Vector3 } from \"three\";\nimport { v4 } from \"uuid\";\nvar w = false,\n    a = false,\n    s = false,\n    d = false,\n    up = false,\n    down = false,\n    e = false,\n    q = false,\n    shift = 1;\nexport function controlHandlerInit(document, child2) {\n  /*eslint complexity: [\"error\", 20]*/\n  function onDocumentKeyDown(event, val) {\n    if (child2 === document.activeElement) {\n      return;\n    }\n\n    var keyCode = event.which;\n\n    if (keyCode === 87) {\n      w = val;\n    }\n\n    if (keyCode === 83) {\n      s = val;\n    }\n\n    if (keyCode === 65) {\n      a = val;\n    }\n\n    if (keyCode === 68) {\n      d = val;\n    }\n\n    if (keyCode === 38) {\n      up = val;\n    }\n\n    if (keyCode === 40) {\n      down = val;\n    }\n\n    if (keyCode === 69) {\n      e = val;\n    }\n\n    if (keyCode === 81) {\n      q = val;\n    }\n\n    if (keyCode === 16) {\n      shift = val ? 0.5 : 1;\n    }\n  }\n\n  document.addEventListener(\"keydown\", function (e) {\n    onDocumentKeyDown(e, true);\n  }, false);\n  document.addEventListener(\"keyup\", function (e) {\n    onDocumentKeyDown(e, false);\n  }, false);\n}\n/*eslint complexity: [\"error\", 20]*/\n\nexport function controlHandlerUpdate(Camera) {\n  if (w) {\n    var direction = new Vector3();\n    Camera.getWorldDirection(direction);\n    Camera.position.add(direction.multiplyScalar(shift === 1 ? 1 : 0.25));\n  }\n\n  if (s) {\n    var _direction = new Vector3();\n\n    Camera.getWorldDirection(_direction);\n    Camera.position.add(_direction.multiplyScalar(-(shift === 1 ? 1 : 0.25)));\n  }\n\n  if (a) {\n    Camera.rotateY(0.04 * shift);\n  }\n\n  if (d) {\n    Camera.rotateY(-0.04 * shift);\n  }\n\n  if (up) {\n    Camera.rotateX(0.04 * shift);\n  }\n\n  if (down) {\n    Camera.rotateX(-0.04 * shift);\n  }\n\n  if (q) {\n    Camera.rotateZ(0.02 * shift);\n  }\n\n  if (e) {\n    Camera.rotateZ(-0.02 * shift);\n  }\n}\nvar listeningHooks = {};\nexport function ControlEventListener(ocument, child2) {\n  var wKey = false,\n      aKey = false,\n      sKey = false,\n      dKey = false,\n      upKey = false,\n      downKey = false,\n      eKey = false,\n      qKey = false,\n      shiftKey = false,\n      zKey = false,\n      xKey = false;\n\n  function onDocumentKeyDownEvent(event, val) {\n    if (child2 === document.activeElement) {\n      return;\n    }\n\n    var keyCode = event.which;\n\n    if (keyCode === 87) {\n      wKey = val;\n    }\n\n    if (keyCode === 83) {\n      sKey = val;\n    }\n\n    if (keyCode === 65) {\n      aKey = val;\n    }\n\n    if (keyCode === 68) {\n      dKey = val;\n    }\n\n    if (keyCode === 38) {\n      upKey = val;\n    }\n\n    if (keyCode === 40) {\n      downKey = val;\n    }\n\n    if (keyCode === 69) {\n      eKey = val;\n    }\n\n    if (keyCode === 81) {\n      qKey = val;\n    }\n\n    if (keyCode === 88) {\n      zKey = val;\n    }\n\n    if (keyCode === 90) {\n      xKey = val;\n    }\n\n    if (keyCode === 16) {\n      shiftKey = val ? 0.5 : 1;\n    }\n\n    for (var _i = 0, _Object$entries = Object.entries(listeningHooks); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n          key = _Object$entries$_i[0],\n          value = _Object$entries$_i[1];\n\n      value({\n        wKey: wKey,\n        aKey: aKey,\n        sKey: sKey,\n        dKey: dKey,\n        upKey: upKey,\n        downKey: downKey,\n        eKey: eKey,\n        qKey: qKey,\n        shiftKey: shiftKey,\n        zKey: zKey,\n        xKey: xKey\n      });\n    }\n  }\n\n  document.addEventListener(\"keydown\", function (e) {\n    onDocumentKeyDownEvent(e, true);\n  }, false);\n  document.addEventListener(\"keyup\", function (e) {\n    onDocumentKeyDownEvent(e, false);\n  }, false);\n}\nexport function listenToConrols(arg) {\n  var uuid = v4();\n  listeningHooks[uuid] = arg;\n  return uuid;\n}\nexport function CleanUpListener(uuid) {\n  delete listeningHooks[uuid];\n}","map":null,"metadata":{},"sourceType":"module"}