{"ast":null,"code":"import _classCallCheck from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/createClass\";\n// Written By Harvey Randall \\\\\nexport var ControlHandler = /*#__PURE__*/function () {\n  function ControlHandler(document) {\n    _classCallCheck(this, ControlHandler);\n\n    this.document = document;\n  }\n\n  _createClass(ControlHandler, [{\n    key: \"init\",\n    value: function init() {\n      var w = false,\n          a = false,\n          s = false,\n          d = false,\n          up = false,\n          down = false,\n          e = false,\n          q = false,\n          shift = 1;\n      this.document.addEventListener(\"keydown\", function (e) {\n        onDocumentKeyDown(e, true);\n      }, false);\n      this.document.addEventListener(\"keyup\", function (e) {\n        onDocumentKeyDown(e, false);\n      }, false);\n\n      function onDocumentKeyDown(event, val) {\n        if (child2 === document.activeElement) return;\n        var keyCode = event.which;\n\n        if (keyCode == 87) {\n          w = val;\n        }\n\n        if (keyCode == 83) {\n          s = val;\n        }\n\n        if (keyCode == 65) {\n          a = val;\n        }\n\n        if (keyCode == 68) {\n          d = val;\n        }\n\n        if (keyCode == 38) {\n          up = val;\n        }\n\n        if (keyCode == 40) {\n          down = val;\n        }\n\n        if (keyCode == 69) {\n          e = val;\n        }\n\n        if (keyCode == 81) {\n          q = val;\n        }\n\n        if (keyCode == 16) {\n          shift = val ? 0.5 : 1;\n        }\n\n        this.w = w;\n        this.a = a;\n        this.s = s;\n        this.d = d;\n        this.up = up;\n        this.down = down;\n        this.e = e;\n        this.q = q;\n        this.shift = shift;\n      }\n\n      ;\n    }\n  }, {\n    key: \"update\",\n    value: function update(Camera) {\n      if (this.w) {\n        var direction = new THREE.Vector3();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25));\n      }\n\n      if (this.s) {\n        var direction = new THREE.Vector3();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n      }\n\n      if (this.a) {\n        Camera.rotateY(0.04 * this.shift);\n      }\n\n      if (this.d) {\n        Camera.rotateY(-0.04 * this.shift);\n      }\n\n      if (this.up) {\n        Camera.rotateX(0.04 * this.shift);\n      }\n\n      if (this.down) {\n        Camera.rotateX(-0.04 * this.shift);\n      }\n\n      if (this.q) {\n        Camera.rotateZ(0.02 * this.shift);\n      }\n\n      if (this.e) {\n        Camera.rotateZ(-0.02 * this.shift);\n      }\n    }\n  }]);\n\n  return ControlHandler;\n}();","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/controls.js"],"names":["ControlHandler","document","w","a","s","d","up","down","e","q","shift","addEventListener","onDocumentKeyDown","event","val","child2","activeElement","keyCode","which","Camera","direction","THREE","Vector3","getWorldDirection","position","add","multiplyScalar","rotateY","rotateX","rotateZ"],"mappings":"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","sourcesContent":["// Written By Harvey Randall \\\\\n\nexport class ControlHandler {\n    constructor(document){\n        this.document = document\n    }\n    init(){\n        let [w, a, s, d, up, down, e, q, shift] = [false, false, false, false, false, false, false, false, 1]\n\n        this.document.addEventListener(\"keydown\", (e) => { onDocumentKeyDown(e, true) }, false);\n        this.document.addEventListener(\"keyup\", (e) => { onDocumentKeyDown(e, false) }, false);\n\n        function onDocumentKeyDown(event, val) {\n            if(child2 === document.activeElement) return\n            var keyCode = event.which;\n            if (keyCode == 87) {\n                w = val\n            }\n            if (keyCode == 83) {\n                s = val\n            }\n            if (keyCode == 65) {\n                a = val\n            }\n            if (keyCode == 68) {\n                d = val\n            }\n            if (keyCode == 38) {\n                up = val\n            }\n            if (keyCode == 40) {\n                down = val\n            }\n            if (keyCode == 69) {\n                e = val\n            }\n            if (keyCode == 81) {\n                q = val\n            }\n            if (keyCode == 16) {\n                shift = val ? 0.5 : 1\n            }\n            this.w = w\n            this.a = a\n            this.s = s\n            this.d = d\n            this.up = up\n            this.down = down\n            this.e = e\n            this.q = q\n            this.shift = shift\n        };\n    }\n    update(Camera){\n        if (this.w) {\n            var direction = new THREE.Vector3();\n            Camera.getWorldDirection(direction);\n            Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25));\n        }\n        if (this.s) {\n            var direction = new THREE.Vector3();\n            Camera.getWorldDirection(direction);\n            Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n        }\n        if (this.a) {\n            Camera.rotateY(0.04 * this.shift)\n        }\n        if (this.d) {\n            Camera.rotateY(-0.04 * this.shift)\n        }\n        if (this.up) {\n            Camera.rotateX(0.04 * this.shift)\n        }\n        if (this.down) {\n            Camera.rotateX(-0.04 * this.shift)\n        }\n        if (this.q) {\n            Camera.rotateZ(0.02 * this.shift)\n        }\n        if (this.e) {\n            Camera.rotateZ(-0.02 * this.shift)\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}