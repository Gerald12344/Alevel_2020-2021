{"ast":null,"code":"// Written By Harvey Randall \\\\\nimport { Vector3 } from \"three\";\nvar w = false,\n    a = false,\n    s = false,\n    d = false,\n    up = false,\n    down = false,\n    e = false,\n    q = false,\n    shift = 1;\nexport function ControlHandlerInit(document, child2) {\n  document.addEventListener(\"keydown\", function (e) {\n    onDocumentKeyDown(e, true);\n  }, false);\n  document.addEventListener(\"keyup\", function (e) {\n    onDocumentKeyDown(e, false);\n  }, false);\n\n  function onDocumentKeyDown(event, val) {\n    if (child2 === document.activeElement) return;\n    var keyCode = event.which;\n\n    if (keyCode == 87) {\n      w = val;\n    }\n\n    if (keyCode == 83) {\n      s = val;\n    }\n\n    if (keyCode == 65) {\n      a = val;\n    }\n\n    if (keyCode == 68) {\n      d = val;\n    }\n\n    if (keyCode == 38) {\n      up = val;\n    }\n\n    if (keyCode == 40) {\n      down = val;\n    }\n\n    if (keyCode == 69) {\n      e = val;\n    }\n\n    if (keyCode == 81) {\n      q = val;\n    }\n\n    if (keyCode == 16) {\n      shift = val ? 0.5 : 1;\n    }\n  }\n\n  ;\n}\n_c = ControlHandlerInit;\nexport function ControlHandlerUpdate(Camera) {\n  if (w) {\n    var direction = new Vector3();\n    Camera.getWorldDirection(direction);\n    Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25));\n  }\n\n  if (s) {\n    var direction = new THREE.Vector3();\n    Camera.getWorldDirection(direction);\n    Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n  }\n\n  if (a) {\n    Camera.rotateY(0.04 * shift);\n  }\n\n  if (d) {\n    Camera.rotateY(-0.04 * shift);\n  }\n\n  if (up) {\n    Camera.rotateX(0.04 * shift);\n  }\n\n  if (down) {\n    Camera.rotateX(-0.04 * shift);\n  }\n\n  if (q) {\n    Camera.rotateZ(0.02 * shift);\n  }\n\n  if (e) {\n    Camera.rotateZ(-0.02 * shift);\n  }\n}\n_c2 = ControlHandlerUpdate;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ControlHandlerInit\");\n$RefreshReg$(_c2, \"ControlHandlerUpdate\");","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/controls.js"],"names":["Vector3","w","a","s","d","up","down","e","q","shift","ControlHandlerInit","document","child2","addEventListener","onDocumentKeyDown","event","val","activeElement","keyCode","which","ControlHandlerUpdate","Camera","direction","getWorldDirection","position","add","multiplyScalar","THREE","rotateY","rotateX","rotateZ"],"mappings":"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","sourcesContent":["// Written By Harvey Randall \\\\\n\nimport { Vector3 } from \"three\";\nlet [w, a, s, d, up, down, e, q, shift] = [false, false, false, false, false, false, false, false, 1]\n\nexport function ControlHandlerInit(document, child2) {\n\n    document.addEventListener(\"keydown\", (e) => { onDocumentKeyDown(e, true) }, false);\n    document.addEventListener(\"keyup\", (e) => { onDocumentKeyDown(e, false) }, false);\n\n    function onDocumentKeyDown(event, val) {\n        if (child2 === document.activeElement) return\n        var keyCode = event.which;\n        if (keyCode == 87) {\n            w = val\n        }\n        if (keyCode == 83) {\n            s = val\n        }\n        if (keyCode == 65) {\n            a = val\n        }\n        if (keyCode == 68) {\n            d = val\n        }\n        if (keyCode == 38) {\n            up = val\n        }\n        if (keyCode == 40) {\n            down = val\n        }\n        if (keyCode == 69) {\n            e = val\n        }\n        if (keyCode == 81) {\n            q = val\n        }\n        if (keyCode == 16) {\n            shift = val ? 0.5 : 1\n        }\n    };\n}\n\nexport function ControlHandlerUpdate(Camera) {\n    if (w) {\n        var direction = new Vector3();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25));\n    }\n    if (s) {\n        var direction = new THREE.Vector3();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n    }\n    if (a) {\n        Camera.rotateY(0.04 * shift)\n    }\n    if (d) {\n        Camera.rotateY(-0.04 * shift)\n    }\n    if (up) {\n        Camera.rotateX(0.04 * shift)\n    }\n    if (down) {\n        Camera.rotateX(-0.04 * shift)\n    }\n    if (q) {\n        Camera.rotateZ(0.02 * shift)\n    }\n    if (e) {\n        Camera.rotateZ(-0.02 * shift)\n    }\n}"]},"metadata":{},"sourceType":"module"}