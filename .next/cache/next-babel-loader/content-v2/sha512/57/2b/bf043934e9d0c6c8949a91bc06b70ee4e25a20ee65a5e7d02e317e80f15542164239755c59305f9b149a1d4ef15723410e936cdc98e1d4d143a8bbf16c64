{"ast":null,"code":"import { Group, MeshPhongMaterial, Vector3 } from \"three\";\nimport { radiants } from \"../../Algorithms/degToRad\";\nimport { addGLBFile } from \"../../Core-API/3dModelHandlers/GLBLoader\";\nimport { debugCube } from \"../../Core-API/gemotryManager\";\nimport { addToRenderSequence } from \"../../Core-API/RenderingHandler\";\nimport { listenToConrols } from \"../controls\";\nexport class MakePlane {\n  constructor(SceneToGet, settings) {\n    this.SceneToGet = SceneToGet;\n    this.settings = settings;\n    this.group = new Group();\n    this.speed = 0;\n    this.elevatorPitch = 0;\n    this.airelonePitch = 0;\n    this.attachCamera = false;\n    this.cube = undefined;\n  }\n\n  async loadFiles() {\n    this.plane = await addGLBFile(\"/Aircraft/BasicPlane/Plane.glb\", this.SceneToGet);\n    this.props = await addGLBFile(\"/Aircraft/BasicPlane/Blades.glb\", this.SceneToGet);\n    this.leftAirelone = await addGLBFile(\"/Aircraft/BasicPlane/leftAirelone.glb\", this.SceneToGet);\n    this.rightAirelone = await addGLBFile(\"/Aircraft/BasicPlane/rightAirelone.glb\", this.SceneToGet);\n    this.leftControlSurface = await addGLBFile(\"/Aircraft/BasicPlane/LeftWingControlsSurface.glb\", this.SceneToGet);\n    this.rightControlSurface = await addGLBFile(\"/Aircraft/BasicPlane/RightWingControlsSurface.glb\", this.SceneToGet);\n    this.rudder = await addGLBFile(\"/Aircraft/BasicPlane/Rudder.glb\", this.SceneToGet);\n  }\n\n  CreateGroupAndPos() {\n    this.group.add(this.plane.scene);\n    this.group.add(this.props.scene);\n    this.group.add(this.leftAirelone.scene);\n    this.group.add(this.rightAirelone.scene);\n    this.group.add(this.rightControlSurface.scene);\n    this.group.add(this.leftControlSurface.scene);\n    this.group.add(this.rudder.scene);\n    this.leftAirelone.scene.position.set(12.936, 15.994, -59.264);\n    this.rightAirelone.scene.position.set(-12.495, 15.888, -59.294);\n    this.leftControlSurface.scene.position.set(46.243, 22.536, -13.541);\n    this.leftControlSurface.scene.rotateY(radiants(-7));\n    this.rightControlSurface.scene.position.set(-46.2718, 22.5411, -13.5447);\n    this.rightControlSurface.scene.rotateY(radiants(6.8));\n    this.rightControlSurface.scene.rotateZ(radiants(-3.5)); //this.rightControlSurface.scene.rotateX(radiants(183.57))\n\n    this.rudder.scene.position.set(-0.022, 24.67, -68.17);\n    this.rudder.scene.rotateX(radiants(-22));\n    this.props.scene.position.set(0, 15, 22);\n    this.SceneToGet.add(this.group);\n    this.group.scale.set(0.05, 0.05, 0.05);\n    let [props, leftAirelone] = [this.props.scene, this.leftAirelone.scene];\n    let currentEvelatorPitch = 0;\n    let airelonePitch = 0; // For testing \\\\\n\n    addToRenderSequence(\"Main\", () => {\n      this.group.position.z += this.speed;\n      props.rotateZ(this.speed);\n\n      if (currentEvelatorPitch < this.elevatorPitch) {\n        this.leftAirelone.scene.rotateX(0.01);\n        this.rightAirelone.scene.rotateX(0.01);\n        currentEvelatorPitch += 0.01;\n      } else if (currentEvelatorPitch > this.elevatorPitch) {\n        this.leftAirelone.scene.rotateX(-0.01);\n        this.rightAirelone.scene.rotateX(-0.01);\n        currentEvelatorPitch -= 0.01;\n      }\n\n      if (airelonePitch < this.airelonePitch) {\n        this.leftControlSurface.scene.rotateX(0.01);\n        this.rightControlSurface.scene.rotateX(-0.01);\n        airelonePitch += 0.01;\n      } else if (airelonePitch > this.airelonePitch) {\n        this.leftControlSurface.scene.rotateX(-0.01);\n        this.rightControlSurface.scene.rotateX(0.01);\n        airelonePitch -= 0.01;\n      }\n    }, false);\n    return this.group;\n  }\n\n  attachCameraAndControl(Camera) {\n    this.UUID = listenToConrols(({\n      wKey,\n      aKey,\n      sKey,\n      dKey,\n      upKey,\n      downKey,\n      eKey,\n      qKey,\n      shiftKey\n    }) => {\n      if (eKey) {\n        if (this.speed < 3) {\n          this.speed += 0.01;\n        }\n      }\n\n      if (qKey) {\n        if (this.speed > 0) {\n          this.speed -= 0.01;\n        }\n      }\n\n      if (wKey) {\n        this.elevatorPitch = 0.5;\n      } else if (sKey) {\n        this.elevatorPitch = -0.5;\n      } else {\n        this.elevatorPitch = 0;\n      }\n\n      if (aKey) {\n        this.airelonePitch = 0.5;\n      } else if (dKey) {\n        this.airelonePitch = -0.5;\n      } else {\n        this.airelonePitch = 0;\n      }\n    });\n    let cube = debugCube();\n    cube.visible = false;\n    cube.position.set(0, 40, -100);\n    cube.rotateY(radiants(180));\n    cube.rotateX(radiants(-20));\n    this.cube = cube;\n    this.group.add(cube);\n    this.attachCamera = true;\n    addToRenderSequence(\"Main\", () => {\n      let pos = cube.position.clone().setFromMatrixPosition(cube.matrixWorld);\n      let rot = cube.getWorldQuaternion(Camera.rotation);\n      Camera.position.set(pos.x, pos.y, pos.z);\n    });\n  }\n\n  cleanUp() {\n    if (this.UUID !== undefined) {\n      CleanUpListener(this.UUID);\n    }\n\n    this.group.remove();\n    return {\n      success: true\n    };\n  }\n\n  updatePositions() {\n    addToRenderSequence(\"Main\", () => {\n      this.group.position.z += this.speed;\n\n      if (this.attachCamera) {}\n\n      props.rotateZ(this.speed);\n\n      if (currentEvelatorPitch < this.elevatorPitch) {\n        this.leftAirelone.scene.rotateX(0.01);\n        this.rightAirelone.scene.rotateX(0.01);\n        currentEvelatorPitch += 0.01;\n      } else if (currentEvelatorPitch > this.elevatorPitch) {\n        this.leftAirelone.scene.rotateX(-0.01);\n        this.rightAirelone.scene.rotateX(-0.01);\n        currentEvelatorPitch -= 0.01;\n      }\n\n      if (airelonePitch < this.airelonePitch) {\n        this.leftControlSurface.scene.rotateX(0.01);\n        this.rightControlSurface.scene.rotateX(-0.01);\n        airelonePitch += 0.01;\n      } else if (airelonePitch > this.airelonePitch) {\n        this.leftControlSurface.scene.rotateX(-0.01);\n        this.rightControlSurface.scene.rotateX(0.01);\n        airelonePitch -= 0.01;\n      }\n    }, false);\n  }\n\n}","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/planeHandler/MainPlane.js"],"names":["Group","MeshPhongMaterial","Vector3","radiants","addGLBFile","debugCube","addToRenderSequence","listenToConrols","MakePlane","constructor","SceneToGet","settings","group","speed","elevatorPitch","airelonePitch","attachCamera","cube","undefined","loadFiles","plane","props","leftAirelone","rightAirelone","leftControlSurface","rightControlSurface","rudder","CreateGroupAndPos","add","scene","position","set","rotateY","rotateZ","rotateX","scale","currentEvelatorPitch","z","attachCameraAndControl","Camera","UUID","wKey","aKey","sKey","dKey","upKey","downKey","eKey","qKey","shiftKey","visible","pos","clone","setFromMatrixPosition","matrixWorld","rot","getWorldQuaternion","rotation","x","y","cleanUp","CleanUpListener","remove","success","updatePositions"],"mappings":"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","sourcesContent":["import { Group, MeshPhongMaterial, Vector3 } from \"three\";\nimport { radiants } from \"../../Algorithms/degToRad\";\nimport { addGLBFile } from \"../../Core-API/3dModelHandlers/GLBLoader\";\nimport { debugCube } from \"../../Core-API/gemotryManager\";\nimport { addToRenderSequence } from \"../../Core-API/RenderingHandler\";\nimport { listenToConrols } from \"../controls\";\n\nexport class MakePlane {\n    constructor(SceneToGet, settings) {\n        this.SceneToGet = SceneToGet;\n        this.settings = settings;\n        this.group = new Group();\n        this.speed = 0;\n        this.elevatorPitch = 0;\n        this.airelonePitch = 0;\n        this.attachCamera = false;\n        this.cube = undefined;\n    }   \n\n    async loadFiles() {\n        this.plane = await addGLBFile(\n            \"/Aircraft/BasicPlane/Plane.glb\",\n            this.SceneToGet\n        );\n        this.props = await addGLBFile(\n            \"/Aircraft/BasicPlane/Blades.glb\",\n            this.SceneToGet\n        );\n        this.leftAirelone = await addGLBFile(\n            \"/Aircraft/BasicPlane/leftAirelone.glb\",\n            this.SceneToGet\n        );\n        this.rightAirelone = await addGLBFile(\n            \"/Aircraft/BasicPlane/rightAirelone.glb\",\n            this.SceneToGet\n        );\n        this.leftControlSurface = await addGLBFile(\n            \"/Aircraft/BasicPlane/LeftWingControlsSurface.glb\",\n            this.SceneToGet\n        );\n        this.rightControlSurface = await addGLBFile(\n            \"/Aircraft/BasicPlane/RightWingControlsSurface.glb\",\n            this.SceneToGet\n        );\n        this.rudder = await addGLBFile(\n            \"/Aircraft/BasicPlane/Rudder.glb\",\n            this.SceneToGet\n        );\n    }\n\n    CreateGroupAndPos() {\n        this.group.add(this.plane.scene);\n        this.group.add(this.props.scene);\n        this.group.add(this.leftAirelone.scene);\n        this.group.add(this.rightAirelone.scene);\n        this.group.add(this.rightControlSurface.scene);\n        this.group.add(this.leftControlSurface.scene);\n        this.group.add(this.rudder.scene);\n\n\n        this.leftAirelone.scene.position.set(12.936, 15.994, -59.264);\n        this.rightAirelone.scene.position.set(-12.495, 15.888, -59.294);\n\n        this.leftControlSurface.scene.position.set(46.243, 22.536, -13.541)\n        this.leftControlSurface.scene.rotateY(radiants(-7))\n\n        this.rightControlSurface.scene.position.set(-46.2718, 22.5411, -13.5447)\n        this.rightControlSurface.scene.rotateY(radiants(6.8))\n        this.rightControlSurface.scene.rotateZ(radiants(-3.5))\n        //this.rightControlSurface.scene.rotateX(radiants(183.57))\n\n        this.rudder.scene.position.set(-0.022, 24.67, -68.17)\n        this.rudder.scene.rotateX(radiants(-22))\n\n        this.props.scene.position.set(0, 15, 22);\n        this.SceneToGet.add(this.group);\n\n        this.group.scale.set(0.05, 0.05, 0.05);\n\n        let [props, leftAirelone] = [this.props.scene, this.leftAirelone.scene]\n\n        let currentEvelatorPitch = 0\n        let airelonePitch = 0;\n        // For testing \\\\\n        addToRenderSequence(\"Main\", () => {\n            this.group.position.z += this.speed\n            props.rotateZ(this.speed);\n            if(currentEvelatorPitch < this.elevatorPitch){\n                this.leftAirelone.scene.rotateX(0.01)\n                this.rightAirelone.scene.rotateX(0.01)\n                currentEvelatorPitch += 0.01\n            }else if(currentEvelatorPitch > this.elevatorPitch){\n                this.leftAirelone.scene.rotateX(-0.01)\n                this.rightAirelone.scene.rotateX(-0.01)\n                currentEvelatorPitch -= 0.01\n            }\n\n            if(airelonePitch < this.airelonePitch){\n                this.leftControlSurface.scene.rotateX(0.01)\n                this.rightControlSurface.scene.rotateX(-0.01)\n                airelonePitch += 0.01\n            }else if(airelonePitch > this.airelonePitch){\n                this.leftControlSurface.scene.rotateX(-0.01)\n                this.rightControlSurface.scene.rotateX(0.01)\n                airelonePitch -= 0.01\n            }\n        }, false);\n\n        return this.group\n    }\n    attachCameraAndControl(Camera){\n        this.UUID = listenToConrols(({wKey, aKey, sKey, dKey, upKey, downKey, eKey, qKey, shiftKey}) => {\n            if(eKey){\n                if(this.speed < 3){\n                  this.speed += 0.01  \n                }\n            }\n            if(qKey){\n                if(this.speed > 0 ){\n                  this.speed -= 0.01  \n                }\n            }\n            if(wKey){\n                this.elevatorPitch = 0.5\n            }else if(sKey){\n                this.elevatorPitch = -0.5\n            }else{\n                this.elevatorPitch = 0\n            }\n\n            if(aKey){\n                this.airelonePitch = 0.5\n            }else if(dKey){\n                this.airelonePitch = -0.5\n            }else{\n                this.airelonePitch = 0\n            }\n        })\n        let cube = debugCube()\n        cube.visible = false\n        cube.position.set(0,40,-100)\n        cube.rotateY(radiants(180))\n        cube.rotateX(radiants(-20))\n        this.cube = cube\n        this.group.add(cube)\n        this.attachCamera = true;\n        \n        addToRenderSequence(\"Main\", () => {\n            let pos = cube.position.clone().setFromMatrixPosition( cube.matrixWorld)\n            let rot = cube.getWorldQuaternion(Camera.rotation)\n            Camera.position.set(pos.x,pos.y,pos.z)\n        })\n    }\n\n    cleanUp(){\n        if(this.UUID !== undefined){\n            CleanUpListener(this.UUID)\n        }\n        this.group.remove()\n        return {success:true}\n    }\n\n    updatePositions(){\n        addToRenderSequence(\"Main\", () => {\n            this.group.position.z += this.speed\n            if(this.attachCamera){\n\n            }\n\n            props.rotateZ(this.speed);\n            if(currentEvelatorPitch < this.elevatorPitch){\n                this.leftAirelone.scene.rotateX(0.01)\n                this.rightAirelone.scene.rotateX(0.01)\n                currentEvelatorPitch += 0.01\n            }else if(currentEvelatorPitch > this.elevatorPitch){\n                this.leftAirelone.scene.rotateX(-0.01)\n                this.rightAirelone.scene.rotateX(-0.01)\n                currentEvelatorPitch -= 0.01\n            }\n\n            if(airelonePitch < this.airelonePitch){\n                this.leftControlSurface.scene.rotateX(0.01)\n                this.rightControlSurface.scene.rotateX(-0.01)\n                airelonePitch += 0.01\n            }else if(airelonePitch > this.airelonePitch){\n                this.leftControlSurface.scene.rotateX(-0.01)\n                this.rightControlSurface.scene.rotateX(0.01)\n                airelonePitch -= 0.01\n            }\n        }, false);\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}