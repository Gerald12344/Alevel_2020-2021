{"ast":null,"code":"import { Vector2, Vector3 } from \"three\";\nimport { roundnum } from \"../../Algorithms/MathUtils\";\nimport { generateTerrainChunk } from \"../ProceduleTerrain\";\nimport { GenerateTrees } from \"../staticAssets/treeBuilder\";\nvar loadedChunks = {};\nvar chunksInMem = {};\nexport function generateTerrainAroundPlayer(seed, camera, scene) {\n  setInterval(function () {\n    var vector = new Vector3();\n    camera.getWorldPosition(vector);\n    console.log(loadedChunks);\n    var ChunkYourIn = new Vector2(roundnum(vector.x, 500), roundnum(vector.z, 500));\n\n    if (ChunkYourIn.x === -0) {\n      ChunkYourIn.x = 0;\n    }\n\n    if (ChunkYourIn.y === -0) {\n      ChunkYourIn.y = 0;\n    }\n\n    if (loadedChunks[ChunkYourIn.x] !== undefined && loadedChunks[ChunkYourIn.x][ChunkYourIn.y] === true) {\n      console.log('exists', ChunkYourIn.x, ChunkYourIn.y);\n    } else {\n      var _loadedChunks$ChunkYo;\n\n      console.log('Generating, ', ChunkYourIn.x, ChunkYourIn.y, (_loadedChunks$ChunkYo = loadedChunks[ChunkYourIn.x]) === null || _loadedChunks$ChunkYo === void 0 ? void 0 : _loadedChunks$ChunkYo[ChunkYourIn.y]);\n      loadedChunks[ChunkYourIn.x] = {};\n      loadedChunks[ChunkYourIn.x][ChunkYourIn.y] = true;\n      var chunk = generateTerrainChunk(seed, ChunkYourIn, 30);\n      GenerateTrees(300, scene, new Vector3(ChunkYourIn.x - 250, 250, ChunkYourIn.y - 250), new Vector3(ChunkYourIn.x + 250, 250, ChunkYourIn.y + 250), chunk);\n      chunksInMem[ChunkYourIn.x] = {};\n      chunksInMem[ChunkYourIn.x][ChunkYourIn.y] = chunk;\n      scene.add(chunk);\n    } //let chunk = generateTerrainChunk(seed, camera, 30);\n\n  }, 1000);\n}","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/TerrainManagement/terrainChunkriser.js"],"names":["Vector2","Vector3","roundnum","generateTerrainChunk","GenerateTrees","loadedChunks","chunksInMem","generateTerrainAroundPlayer","seed","camera","scene","setInterval","vector","getWorldPosition","console","log","ChunkYourIn","x","z","y","undefined","chunk","add"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,OAAlB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,4BAAzB;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,aAAT,QAA8B,6BAA9B;AAEA,IAAIC,YAAY,GAAG,EAAnB;AACA,IAAIC,WAAW,GAAG,EAAlB;AAEA,OAAO,SAASC,2BAAT,CAAqCC,IAArC,EAA2CC,MAA3C,EAAmDC,KAAnD,EAA0D;AAC7DC,EAAAA,WAAW,CAAC,YAAM;AACd,QAAIC,MAAM,GAAG,IAAIX,OAAJ,EAAb;AACAQ,IAAAA,MAAM,CAACI,gBAAP,CAAwBD,MAAxB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYV,YAAZ;AAEA,QAAIW,WAAW,GAAI,IAAIhB,OAAJ,CAAYE,QAAQ,CAACU,MAAM,CAACK,CAAR,EAAW,GAAX,CAApB,EAAqCf,QAAQ,CAACU,MAAM,CAACM,CAAR,EAAW,GAAX,CAA7C,CAAnB;;AACA,QAAGF,WAAW,CAACC,CAAZ,KAAkB,CAAC,CAAtB,EAAwB;AACpBD,MAAAA,WAAW,CAACC,CAAZ,GAAgB,CAAhB;AACH;;AACD,QAAGD,WAAW,CAACG,CAAZ,KAAkB,CAAC,CAAtB,EAAwB;AACpBH,MAAAA,WAAW,CAACG,CAAZ,GAAgB,CAAhB;AACH;;AACD,QAAGd,YAAY,CAACW,WAAW,CAACC,CAAb,CAAZ,KAAgCG,SAAhC,IAA6Cf,YAAY,CAACW,WAAW,CAACC,CAAb,CAAZ,CAA4BD,WAAW,CAACG,CAAxC,MAA+C,IAA/F,EAAoG;AAChGL,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,WAAW,CAACC,CAAlC,EAAqCD,WAAW,CAACG,CAAjD;AACH,KAFD,MAEK;AAAA;;AACDL,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,WAAW,CAACC,CAAxC,EAA2CD,WAAW,CAACG,CAAvD,2BAA0Dd,YAAY,CAACW,WAAW,CAACC,CAAb,CAAtE,0DAA0D,sBAA8BD,WAAW,CAACG,CAA1C,CAA1D;AACAd,MAAAA,YAAY,CAACW,WAAW,CAACC,CAAb,CAAZ,GAA8B,EAA9B;AACAZ,MAAAA,YAAY,CAACW,WAAW,CAACC,CAAb,CAAZ,CAA4BD,WAAW,CAACG,CAAxC,IAA6C,IAA7C;AACA,UAAIE,KAAK,GAAGlB,oBAAoB,CAACK,IAAD,EAAOQ,WAAP,EAAoB,EAApB,CAAhC;AACAZ,MAAAA,aAAa,CAAC,GAAD,EAAMM,KAAN,EAAa,IAAIT,OAAJ,CAAYe,WAAW,CAACC,CAAZ,GAAc,GAA1B,EAA+B,GAA/B,EAAmCD,WAAW,CAACG,CAAZ,GAAc,GAAjD,CAAb,EAAoE,IAAIlB,OAAJ,CAAYe,WAAW,CAACC,CAAZ,GAAc,GAA1B,EAA8B,GAA9B,EAAkCD,WAAW,CAACG,CAAZ,GAAc,GAAhD,CAApE,EAA0HE,KAA1H,CAAb;AACAf,MAAAA,WAAW,CAACU,WAAW,CAACC,CAAb,CAAX,GAA6B,EAA7B;AACAX,MAAAA,WAAW,CAACU,WAAW,CAACC,CAAb,CAAX,CAA2BD,WAAW,CAACG,CAAvC,IAA4CE,KAA5C;AACAX,MAAAA,KAAK,CAACY,GAAN,CAAUD,KAAV;AACH,KAvBa,CAwBd;;AACH,GAzBU,EAyBT,IAzBS,CAAX;AA2BH","sourcesContent":["import { Vector2, Vector3 } from \"three\";\nimport { roundnum } from \"../../Algorithms/MathUtils\";\nimport { generateTerrainChunk } from \"../ProceduleTerrain\";\nimport { GenerateTrees } from \"../staticAssets/treeBuilder\";\n\nlet loadedChunks = {}\nlet chunksInMem = {}\n\nexport function generateTerrainAroundPlayer(seed, camera, scene) {\n    setInterval(() => {\n        let vector = new Vector3();\n        camera.getWorldPosition(vector);\n        console.log(loadedChunks)\n\n        let ChunkYourIn  = new Vector2(roundnum(vector.x, 500), roundnum(vector.z, 500))\n        if(ChunkYourIn.x === -0){\n            ChunkYourIn.x = 0\n        }\n        if(ChunkYourIn.y === -0){\n            ChunkYourIn.y = 0\n        }\n        if(loadedChunks[ChunkYourIn.x] !== undefined && loadedChunks[ChunkYourIn.x][ChunkYourIn.y] === true){\n            console.log('exists', ChunkYourIn.x, ChunkYourIn.y)\n        }else{\n            console.log('Generating, ', ChunkYourIn.x, ChunkYourIn.y, loadedChunks[ChunkYourIn.x]?.[ChunkYourIn.y])\n            loadedChunks[ChunkYourIn.x] = {}\n            loadedChunks[ChunkYourIn.x][ChunkYourIn.y] = true\n            let chunk = generateTerrainChunk(seed, ChunkYourIn, 30);\n            GenerateTrees(300, scene, new Vector3(ChunkYourIn.x-250, 250,ChunkYourIn.y-250), new Vector3(ChunkYourIn.x+250,250,ChunkYourIn.y+250), chunk)\n            chunksInMem[ChunkYourIn.x] = {}\n            chunksInMem[ChunkYourIn.x][ChunkYourIn.y] = chunk\n            scene.add(chunk)\n        }\n        //let chunk = generateTerrainChunk(seed, camera, 30);\n    },1000)\n\n}\n"]},"metadata":{},"sourceType":"module"}