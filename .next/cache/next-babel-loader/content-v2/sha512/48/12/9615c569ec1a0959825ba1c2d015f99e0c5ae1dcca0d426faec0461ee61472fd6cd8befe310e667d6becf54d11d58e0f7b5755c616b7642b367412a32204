{"ast":null,"code":"import * as THREE from \"three\";\nexport function CreateTag(baseWidth, size, name) {\n  var borderSize = 2;\n  var ctx = document.createElement(\"canvas\").getContext(\"2d\");\n  var font = \"\".concat(size, \"px Verdana\");\n  ctx.font = font; // measure how long the name will be\n\n  var textWidth = ctx.measureText(name).width;\n  var doubleBorderSize = borderSize * 2;\n  var width = baseWidth + doubleBorderSize;\n  var height = size + doubleBorderSize;\n  ctx.canvas.width = width;\n  ctx.canvas.height = height; // need to set font again after resizing canvas\n\n  ctx.font = font;\n  ctx.textBaseline = \"middle\";\n  ctx.textAlign = \"center\"; //ctx.fillStyle = 'blue';\n  //ctx.fillRect(0, 0, width, height);\n  // scale to fit but don't stretch\n\n  var scaleFactor = Math.min(1, baseWidth / textWidth);\n  ctx.translate(width / 2, height / 2);\n  ctx.scale(scaleFactor, 1);\n  ctx.fillStyle = \"white\";\n  ctx.fillText(name, 0, 0);\n  return ctx.canvas;\n}\n_c = CreateTag;\nexport function GenerateLabel(name, group) {\n  var canvas = CreateTag(300, 32, name);\n  var texture = new THREE.CanvasTexture(canvas); // because our canvas is likely not a power of 2\n  // in both dimensions set the filtering appropriately.\n\n  texture.minFilter = THREE.LinearFilter;\n  texture.wrapS = THREE.ClampToEdgeWrapping;\n  texture.wrapT = THREE.ClampToEdgeWrapping;\n  var labelMaterial = new THREE.SpriteMaterial({\n    map: texture,\n    transparent: true\n  }); // if units are meters then 0.01 here makes size\n  // of the label into centimeters.\n\n  var labelBaseScale = 0.01;\n  var label = new THREE.Sprite(labelMaterial);\n  group.add(label);\n  label.position.y = 1;\n  label.scale.x = canvas.width * labelBaseScale;\n  label.scale.y = canvas.height * labelBaseScale;\n  return group;\n}\n_c2 = GenerateLabel;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateTag\");\n$RefreshReg$(_c2, \"GenerateLabel\");","map":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/nametag.js"],"names":["THREE","CreateTag","baseWidth","size","name","borderSize","ctx","document","createElement","getContext","font","textWidth","measureText","width","doubleBorderSize","height","canvas","textBaseline","textAlign","scaleFactor","Math","min","translate","scale","fillStyle","fillText","GenerateLabel","group","texture","CanvasTexture","minFilter","LinearFilter","wrapS","ClampToEdgeWrapping","wrapT","labelMaterial","SpriteMaterial","map","transparent","labelBaseScale","label","Sprite","add","position","y","x"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAO,SAASC,SAAT,CAAmBC,SAAnB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C;AAC7C,MAAMC,UAAU,GAAG,CAAnB;AACA,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,UAAjC,CAA4C,IAA5C,CAAZ;AAEA,MAAMC,IAAI,aAAMP,IAAN,eAAV;AACAG,EAAAA,GAAG,CAACI,IAAJ,GAAWA,IAAX,CAL6C,CAM7C;;AACA,MAAMC,SAAS,GAAGL,GAAG,CAACM,WAAJ,CAAgBR,IAAhB,EAAsBS,KAAxC;AAEA,MAAMC,gBAAgB,GAAGT,UAAU,GAAG,CAAtC;AACA,MAAMQ,KAAK,GAAGX,SAAS,GAAGY,gBAA1B;AACA,MAAMC,MAAM,GAAGZ,IAAI,GAAGW,gBAAtB;AACAR,EAAAA,GAAG,CAACU,MAAJ,CAAWH,KAAX,GAAmBA,KAAnB;AACAP,EAAAA,GAAG,CAACU,MAAJ,CAAWD,MAAX,GAAoBA,MAApB,CAb6C,CAe7C;;AACAT,EAAAA,GAAG,CAACI,IAAJ,GAAWA,IAAX;AACAJ,EAAAA,GAAG,CAACW,YAAJ,GAAmB,QAAnB;AACAX,EAAAA,GAAG,CAACY,SAAJ,GAAgB,QAAhB,CAlB6C,CAoB7C;AACA;AAEA;;AACA,MAAMC,WAAW,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYnB,SAAS,GAAGS,SAAxB,CAApB;AACAL,EAAAA,GAAG,CAACgB,SAAJ,CAAcT,KAAK,GAAG,CAAtB,EAAyBE,MAAM,GAAG,CAAlC;AACAT,EAAAA,GAAG,CAACiB,KAAJ,CAAUJ,WAAV,EAAuB,CAAvB;AACAb,EAAAA,GAAG,CAACkB,SAAJ,GAAgB,OAAhB;AACAlB,EAAAA,GAAG,CAACmB,QAAJ,CAAarB,IAAb,EAAmB,CAAnB,EAAsB,CAAtB;AAEA,SAAOE,GAAG,CAACU,MAAX;AACH;KA/Bef,S;AAiChB,OAAO,SAASyB,aAAT,CAAuBtB,IAAvB,EAA6BuB,KAA7B,EAAoC;AACvC,MAAMX,MAAM,GAAGf,SAAS,CAAC,GAAD,EAAM,EAAN,EAAUG,IAAV,CAAxB;AACA,MAAMwB,OAAO,GAAG,IAAI5B,KAAK,CAAC6B,aAAV,CAAwBb,MAAxB,CAAhB,CAFuC,CAGvC;AACA;;AACAY,EAAAA,OAAO,CAACE,SAAR,GAAoB9B,KAAK,CAAC+B,YAA1B;AACAH,EAAAA,OAAO,CAACI,KAAR,GAAgBhC,KAAK,CAACiC,mBAAtB;AACAL,EAAAA,OAAO,CAACM,KAAR,GAAgBlC,KAAK,CAACiC,mBAAtB;AAEA,MAAME,aAAa,GAAG,IAAInC,KAAK,CAACoC,cAAV,CAAyB;AAC3CC,IAAAA,GAAG,EAAET,OADsC;AAE3CU,IAAAA,WAAW,EAAE;AAF8B,GAAzB,CAAtB,CATuC,CAavC;AACA;;AACA,MAAMC,cAAc,GAAG,IAAvB;AAEA,MAAMC,KAAK,GAAG,IAAIxC,KAAK,CAACyC,MAAV,CAAiBN,aAAjB,CAAd;AACAR,EAAAA,KAAK,CAACe,GAAN,CAAUF,KAAV;AACAA,EAAAA,KAAK,CAACG,QAAN,CAAeC,CAAf,GAAmB,CAAnB;AAEAJ,EAAAA,KAAK,CAACjB,KAAN,CAAYsB,CAAZ,GAAgB7B,MAAM,CAACH,KAAP,GAAe0B,cAA/B;AACAC,EAAAA,KAAK,CAACjB,KAAN,CAAYqB,CAAZ,GAAgB5B,MAAM,CAACD,MAAP,GAAgBwB,cAAhC;AACA,SAAOZ,KAAP;AACH;MAxBeD,a","sourcesContent":["import * as THREE from \"three\";\n\nexport function CreateTag(baseWidth, size, name) {\n    const borderSize = 2;\n    const ctx = document.createElement(\"canvas\").getContext(\"2d\");\n\n    const font = `${size}px Verdana`;\n    ctx.font = font;\n    // measure how long the name will be\n    const textWidth = ctx.measureText(name).width;\n\n    const doubleBorderSize = borderSize * 2;\n    const width = baseWidth + doubleBorderSize;\n    const height = size + doubleBorderSize;\n    ctx.canvas.width = width;\n    ctx.canvas.height = height;\n\n    // need to set font again after resizing canvas\n    ctx.font = font;\n    ctx.textBaseline = \"middle\";\n    ctx.textAlign = \"center\";\n\n    //ctx.fillStyle = 'blue';\n    //ctx.fillRect(0, 0, width, height);\n\n    // scale to fit but don't stretch\n    const scaleFactor = Math.min(1, baseWidth / textWidth);\n    ctx.translate(width / 2, height / 2);\n    ctx.scale(scaleFactor, 1);\n    ctx.fillStyle = \"white\";\n    ctx.fillText(name, 0, 0);\n\n    return ctx.canvas;\n}\n\nexport function GenerateLabel(name, group) {\n    const canvas = CreateTag(300, 32, name);\n    const texture = new THREE.CanvasTexture(canvas);\n    // because our canvas is likely not a power of 2\n    // in both dimensions set the filtering appropriately.\n    texture.minFilter = THREE.LinearFilter;\n    texture.wrapS = THREE.ClampToEdgeWrapping;\n    texture.wrapT = THREE.ClampToEdgeWrapping;\n\n    const labelMaterial = new THREE.SpriteMaterial({\n        map: texture,\n        transparent: true,\n    });\n    // if units are meters then 0.01 here makes size\n    // of the label into centimeters.\n    const labelBaseScale = 0.01;\n\n    const label = new THREE.Sprite(labelMaterial);\n    group.add(label);\n    label.position.y = 1;\n\n    label.scale.x = canvas.width * labelBaseScale;\n    label.scale.y = canvas.height * labelBaseScale;\n    return group;\n}\n"]},"metadata":{},"sourceType":"module"}